<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>대중교통 경로 계획</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div class="max-w-2xl mx-auto p-6">
        <div class="space-y-4">
            <!-- 출발지 -->
            <div class="flex items-center group">
                <div class="w-3 h-3 bg-black rounded-full"></div>
                <input type="text" id="from" 
                    class="flex-1 ml-4 py-3 px-4 text-base bg-gray-50 rounded-xl outline-none focus:bg-blue-50 transition-colors"
                    placeholder="출발지를 입력하세요">
            </div>

            <!-- 경유지들이 여기에 추가됩니다 -->
            <div id="stopPoints"></div>

            <!-- 도착지 -->
            <div class="flex items-center group">
                <div class="w-3 h-3 bg-black rounded-full"></div>
                <input type="text" id="to" 
                    class="flex-1 ml-4 py-3 px-4 text-base bg-gray-50 rounded-xl outline-none focus:bg-blue-50 transition-colors"
                    placeholder="도착지를 입력하세요">
            </div>

            <!-- 버튼들 -->
            <div class="flex justify-between pt-4">
                <button id="addStopPoint"
                    class="text-blue-500 hover:text-blue-600 font-medium text-sm px-4 py-2.5 rounded-lg hover:bg-blue-50 transition-colors">
                    + 경유지 추가
                </button>
                <button onclick="handleSearch()"
                    class="bg-blue-500 hover:bg-blue-600 text-white font-medium text-sm px-6 py-2.5 rounded-lg transition-colors">
                    경로 찾기
                </button>
            </div>
        </div>
    </div>

    <script>
        let stopPoints = [];

        function createStopPoint() {
            const id = Date.now();
            const div = document.createElement('div');
            div.className = 'flex items-center group';
            div.id = `stopPoint-${id}`;
            div.innerHTML = `
                <div class="w-3 h-3 bg-black rounded-full"></div>
                <input type="text" 
                    class="flex-1 ml-4 py-3 px-4 text-base bg-gray-50 rounded-xl outline-none focus:bg-blue-50 transition-colors"
                    placeholder="경유지를 입력하세요">
                <button onclick="removeStopPoint('${id}')"
                    class="ml-2 opacity-0 group-hover:opacity-100 transition-opacity p-2 hover:bg-gray-100 rounded-full">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            `;
            document.getElementById('stopPoints').appendChild(div);
            stopPoints.push(id);
        }

        function removeStopPoint(id) {
            const element = document.getElementById(`stopPoint-${id}`);
            if (element) {
                element.remove();
                stopPoints = stopPoints.filter(pointId => pointId !== id);
            }
        }

        function handleSearch() {
            const from = document.getElementById('from').value;
            const to = document.getElementById('to').value;

            if (!from || !to) {
                alert('출발지와 도착지를 입력해주세요.');
                return;
            }

            const stopPointValues = stopPoints.map(id => {
                const input = document.querySelector(`#stopPoint-${id} input`);
                return input ? input.value : '';
            }).filter(value => value);

            const route = {
                from,
                stopPoints: stopPointValues,
                to
            };
            
            console.log('경로 정보:', route);
        }

        // 경유지 추가 버튼 이벤트 리스너
        document.getElementById('addStopPoint').addEventListener('click', createStopPoint);
    </script>
</body>
</html>
